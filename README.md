# stock-analysis

# Задача

Разработать приложение для анализа информации по ликвидным российским акциям.

В приложении должно быть:

1) Возможность задать список акций, для закачки данных.
2) Механизм получения и сохранения котировок (OHLC) по заданным инструментам за 
произвольный период времени.
3) Веб-сервис, в котором будет реализован метод "get_summary", который вернет список 
всех сохраненных инструментов и процент(%) изменения цены для каждого инструмента за 
заданный промежуток времени.
4) Инструкция по запуску и использованию.

# Описание возможных решений задачи

## Источники данных

Получать данные будем через Tinkoff Инвестиции OpenAPI.

## Асинхронные фоновые запросы к источникам данных

Т.к. запросы к источникам данных могут занимать секунды и более, если данных много, 
то будем выполнять запросы асинхронно в фоновом режиме. Для простоты и скорости разработки
будем использовать django-background-tasks. Для лучшей горизонтальной масштабируемости, 
настраиваемости, гибкости лучше использовать celery. 
Для нотификации клиента о результатах выполнения фоновых задач можно было бы использовать 
веб-сокеты.

# Инструкция по запуску и использованию

To Be Done

# Ресурсы

```
---------------------------------------------------
создать задание на загрузку списка акций

POST /tasks/
{
    "action": "get_instruments"
}
response:
{
    "id": <id>
}

---------------------------------------------------
создать задание на загрузку котировок акций

POST /tasks/
{
    "action": "get_candles",
    "from": <from>,
    "to": <to>,
    "figi": <ticker>
}
response:
{
    "id": <id>
}

---------------------------------------------------
список доступных действий по загрузке данных

GET /tasks/available_actions/
response:
{
    ["get_instruments", "get_candles"]
}

---------------------------------------------------
список загруженных акций

GET /instruments/
response:
{
    [...]
}

---------------------------------------------------
список загруженных котировок за заданный период

GET /instruments/<ticker>/quotes?from=<from>&to=<to>&interval=<interval>
response:
{
    [...]
}

---------------------------------------------------
получить сводную информацию по всем акциям за заданный период

GET /instruments/summary?from=<from>&to=<to>?&interval=<interval>
response:
{
    [...]
}
```